<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Security Management - Home Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>

<nav class="navbar navbar-dark bg-dark">
    <div th:class="container">
        <h1 class="text-info">
            <a class="navbar-brand text-info" th:href="@{/security/home}">Home</a>
        </h1>
        <span class="navbar-text">
<!--            https://github.com/thymeleaf/thymeleaf-extras-springsecurity-->
            <!--<span th:class="mx-2" th:text="${#authentication.getName()}">Username</span>
            <span th:class="mx-2" th:text="${#authentication.getAuthorities()}">Role</span>-->
            <span class="mx-2" th:text="${username}">Username</span>
            <span class="mx-2"  th:text="${roles}">Role</span>
            <a type="submit" class="btn btn-danger mx-2" th:href="@{/security/logout}">Logout <i
                    class="bi bi-box-arrow-in-right"></i></a>
        </span>
    </div>
</nav>

<div class="container">
    <h2 th:class="mt-3">Welcome to Spring Security Management</h2>
    <p>
<!--        <a th:if="${#authorization.expression('hasRole(''ROLE_MANAGER'')')}" th:href="@{/management/leader}" class="btn btn-primary">Leaders Management</a>-->
        <a sec:authorize="hasRole('ROLE_MANAGER')" th:href="@{/management/leader}" class="btn btn-primary">Leaders Management</a>
<!--        <a th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}" th:href="@{/management/admin}" class="btn btn-primary">Admin Management</a>-->
        <a sec:authorize="hasRole('ROLE_ADMIN')" th:href="@{/management/admin}" class="btn btn-primary">Admin Management</a>
<!--        <a th:if="${#authorization.expression('hasRole(''ROLE_USER'')')}" th:href="@{/management/admin}" class="btn btn-primary">Users shouldn't view the target resource</a>-->
        <a sec:authorize="hasRole('ROLE_USER')" th:href="@{/management/admin}" class="btn btn-primary">Users shouldn't view the target resource</a>
    </p>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>
</html>